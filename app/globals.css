@import "tailwindcss";

:root {
  /* Background colors (neutral, oklch) */
  --bg-dark: oklch(0.15 0 0);
  --bg: oklch(0.92 0 0);
  --bg-light: oklch(0.96 0 0);

  /* Text colors (neutral, oklch) */
  --text: oklch(0.12 0 0);
  --text-muted: oklch(0.4 0 0);

  /* Border colors (warm with subtle orange tint in light mode) */
  --border: oklch(0.5 0.03 60);
  --border-muted: oklch(0.75 0.02 60);

  /* Action colors (not neutral) */
  --action-primary: oklch(0.6 0.2 60);
  --action-secondary: oklch(0.6 0.15 300);

  /* Alert colors (not neutral) */
  --alert-danger: oklch(0.55 0.22 25);
  --alert-warning: oklch(0.75 0.15 85);
  --alert-success: oklch(0.6 0.18 145);
  --alert-info: oklch(0.6 0.15 220);
}

/* Dark mode via media query (system preference) */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    --bg-dark: oklch(0.08 0 0);
    --bg: oklch(0.12 0 0);
    --bg-light: oklch(0.18 0 0);
    --text: oklch(0.95 0 0);
    --text-muted: oklch(0.6 0 0);
    --border: oklch(0.4 0 0);
    --border-muted: oklch(0.3 0 0);
    --action-primary: oklch(0.7 0.2 60);
    --action-secondary: oklch(0.7 0.15 300);
  }
}

/* Dark mode via data attribute (manual toggle) */
[data-theme="dark"] {
  --bg-dark: oklch(0.08 0 0);
  --bg: oklch(0.12 0 0);
  --bg-light: oklch(0.18 0 0);
  --text: oklch(0.95 0 0);
  --text-muted: oklch(0.6 0 0);
  --border: oklch(0.4 0 0);
  --border-muted: oklch(0.3 0 0);
  --action-primary: oklch(0.7 0.2 60);
  --action-secondary: oklch(0.7 0.15 300);
}

/* Light mode via data attribute (explicit) */
[data-theme="light"] {
  --bg-dark: oklch(0.15 0 0);
  --bg: oklch(0.92 0 0);
  --bg-light: oklch(0.96 0 0);
  --text: oklch(0.12 0 0);
  --text-muted: oklch(0.4 0 0);
  --border: oklch(0.5 0.03 60);
  --border-muted: oklch(0.75 0.02 60);
  --action-primary: oklch(0.6 0.2 60);
  --action-secondary: oklch(0.6 0.15 300);
}

@theme {
  /* Disable all default colors */
  --color-*: initial;

  /* Background colors */
  --color-bg-dark: var(--bg-dark);
  --color-bg: var(--bg);
  --color-bg-light: var(--bg-light);

  /* Text colors */
  --color-text: var(--text);
  --color-text-muted: var(--text-muted);

  /* Border colors */
  --color-border: var(--border);
  --color-border-muted: var(--border-muted);

  /* Action colors */
  --color-action-primary: var(--action-primary);
  --color-action-secondary: var(--action-secondary);

  /* Alert colors */
  --color-alert-danger: var(--alert-danger);
  --color-alert-warning: var(--alert-warning);
  --color-alert-success: var(--alert-success);
  --color-alert-info: var(--alert-info);

  /* Fonts */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: Arial, Helvetica, sans-serif;
  position: relative;
}

/* Background pattern */
.bg-pattern {
  position: absolute;
  inset: 0;
  opacity: 0.08;
  background-image: 
    linear-gradient(to right, var(--text) 1px, transparent 1px),
    linear-gradient(to bottom, var(--text) 1px, transparent 1px);
  background-size: 50px 50px;
  pointer-events: none;
}

/* Darker grid in light mode */
:root:not([data-theme="dark"]) .bg-pattern,
[data-theme="light"] .bg-pattern {
  opacity: 0.12;
}

/* Lighter grid in dark mode */
@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) .bg-pattern {
    opacity: 0.04;
  }
}

[data-theme="dark"] .bg-pattern {
  opacity: 0.04;
}

/* Prose styles for markdown content */
.prose {
  color: var(--text);
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
  color: var(--text);
  font-weight: 600;
  margin-top: 2em;
  margin-bottom: 1em;
}

.prose h1 {
  font-size: 2.25em;
}

.prose h2 {
  font-size: 1.875em;
}

.prose h3 {
  font-size: 1.5em;
}

.prose p {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  line-height: 1.75;
}

.prose a {
  color: var(--action-primary);
  text-decoration: underline;
}

.prose a:hover {
  color: var(--action-primary);
  opacity: 0.8;
}

.prose code {
  background: var(--bg-dark);
  color: var(--text);
  padding: 0.125em 0.375em;
  border-radius: 0.25em;
  font-size: 0.875em;
}

/* Light mode code blocks - use lighter background with dark text */
:root:not([data-theme="dark"]) .prose code,
[data-theme="light"] .prose code {
  background: oklch(0.88 0 0);
  color: oklch(0.12 0 0);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) .prose code {
    background: var(--bg-dark);
    color: var(--text);
  }
}

.prose pre {
  background: var(--bg-dark);
  color: var(--text);
  padding: 1em;
  border-radius: 0.5em;
  overflow-x: auto;
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}

/* Light mode pre blocks - use lighter background with dark text */
:root:not([data-theme="dark"]) .prose pre,
[data-theme="light"] .prose pre {
  background: oklch(0.88 0 0);
  color: oklch(0.12 0 0);
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) .prose pre {
    background: var(--bg-dark);
    color: var(--text);
  }
}

.prose pre code {
  background: transparent;
  padding: 0;
}

.prose ul,
.prose ol {
  margin-top: 1.25em;
  margin-bottom: 1.25em;
  padding-left: 1.625em;
}

.prose li {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.prose blockquote {
  border-left: 4px solid var(--border);
  padding-left: 1em;
  margin: 1.5em 0;
  color: var(--text-muted);
  font-style: italic;
}

.prose hr {
  border-color: var(--border);
  margin: 2em 0;
}

.prose strong {
  color: var(--text);
  font-weight: 600;
}

.prose em {
  font-style: italic;
}
